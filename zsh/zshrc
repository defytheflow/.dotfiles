#!/usr/bin/zsh

# ------------------------------------------------------------------------------
# | File:      .zshrc
# ------------------------------------------------------------------------------
# | Modified:  March 23, 2020
# ------------------------------------------------------------------------------
# | Author:    Artyom Danilov
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
#                                   Options
# ------------------------------------------------------------------------------

# Don't type cd to change directories.
setopt autocd autopushd

# Tab completion
autoload -U compinit
compinit

# Enable vim bindings.
bindkey -v

# ------------------------------------------------------------------------------
#                                Tab competion
# ------------------------------------------------------------------------------

zstyle ':completion:*' menu select
zmodload zsh/complist

# Include hidden files in autocomplete:
_comp_options+=(globdots)

# Use vim keys in tab complete menu:
bindkey -M menuselect 'h' vi-backward-char
bindkey -M menuselect 'j' vi-down-line-or-history
bindkey -M menuselect 'k' vi-up-line-or-history
bindkey -M menuselect 'l' vi-forward-char

# ------------------------------------------------------------------------------
#                         Aliases | Functions | Prompt
# ------------------------------------------------------------------------------
for file in 'alias' 'env' 'function' 'prompt'; do
        [ -f "${HOME}/.dotfiles/zsh/${file}" ] && . "${HOME}/.dotfiles/zsh/${file}"
done

# ------------------------------------------------------------------------------
#                                     WSL
# ------------------------------------------------------------------------------

# If running on wsl:
if grep -qEi '(Microsoft|WSL)' /proc/version > /dev/null 2>&1; then
    [ -f "${HOME}/.dotfiles/wsl/env" ] && . "${HOME}/.dotfiles/wsl/env"
fi

# ------------------------------------------------------------------------------
#                                   Plugins
# ------------------------------------------------------------------------------

# Must be last.
ZSH_PLUGINS=~/.dotfiles/zsh/plugins

source ${ZSH_PLUGINS}/zsh-autosuggestions/zsh-autosuggestions.zsh
source ${ZSH_PLUGINS}/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source ${ZSH_PLUGINS}/alias-tips/alias-tips.plugin.zsh
