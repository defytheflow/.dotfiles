#!/usr/bin/zsh

# File:      zsh/prompt
# Purpose:   Customize prompt
# Created:   26.03.2020
# Modified:  28.03.2020
# Author:    Artyom Danilov


# Execute each time prompt is drawn.
function precmd() {
    # get last command exit status.
    if [ $? -eq 0 ]; then
        exit_status=" ${GREEN}:)"
    else
        exit_status=" ${RED}:("
    fi

    PS1=$'\n'
    # if root, highlight everything in red.
    if [ "$(whoami)" = 'root' ]; then
        PS1+="${RED}%n"                     # root
        PS1+="${WHITE} at ${RED}%M"         # host
        PS1+="${WHITE} in ${RED}%~"         # absolute directory
    else
        PS1+="${PURPLE}%n"                  # username
        PS1+="${WHITE} at ${ORANGE}%M"      # host
        PS1+="${WHITE} in ${LIME_GREEN}%~"  # absolute directory
    fi
    PS1+="${exit_status}${RESET}"           # :) or :(
    PS1+=$'\n$ '
}
